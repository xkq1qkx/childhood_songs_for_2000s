<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸµ ç«¥å¹´å½±è§†æ­Œæ›²</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ç«¥å¹´å›å¿† æ­Œæ›²</h1>
            <div class="view-switcher">
                <button class="view-btn active" data-view="table">
                    <img src="images/table_icon.png" alt="è¡¨æ ¼" class="view-icon"> æ­Œæ›²è¡¨æ ¼
                </button>
                <button class="view-btn" data-view="gallery">
                    <img src="images/gallery_icon.png" alt="ç”»å»Š" class="view-icon"> æ­Œæ›²ç”»å»Š
                </button>
</div>
        </header>

        <div class="filters">
            <input type="text" id="searchBox" placeholder="ğŸ” æœç´¢æ­Œæ›²ã€ä½œå“æˆ–æ­Œæ‰‹...">
            <select id="filterImpression">
                <option value="">å…¨éƒ¨å°è±¡ç¨‹åº¦</option>
                <option value="å°è±¡æ·±åˆ»">å°è±¡æ·±åˆ»</option>
                <option value="æœ‰ä¸€äº›å°è±¡">æœ‰ä¸€äº›å°è±¡</option>
                <option value="åŸºæœ¬æ— å°è±¡">åŸºæœ¬æ— å°è±¡</option>
            </select>
            <select id="filterType">
                <option value="">å…¨éƒ¨ç±»å‹</option>
                <option value="ä¸»é¢˜æ›²">ä¸»é¢˜æ›²</option>
                <option value="ç‰‡å¤´æ›²">ç‰‡å¤´æ›²</option>
                <option value="ç‰‡å°¾æ›²">ç‰‡å°¾æ›²</option>
                <option value="æ’æ›²">æ’æ›²</option>
            </select>
            <select id="sortBy">
                <option value="default">é»˜è®¤æ’åº</option>
                <option value="year-asc">å‘è¡Œæ—¶é—´ â†‘</option>
                <option value="year-desc">å‘è¡Œæ—¶é—´ â†“</option>
                <option value="name-asc">æ­Œæ›²åç§° A-Z</option>
                <option value="name-desc">æ­Œæ›²åç§° Z-A</option>
                <option value="work-asc">ä½œå“åç§° A-Z</option>
                <option value="work-desc">ä½œå“åç§° Z-A</option>
            </select>
        </div>

        <!-- è¡¨æ ¼è§†å›¾ -->
        <div id="tableView" class="view-content active">
            <div class="table-wrapper">
                <table id="songsTable">
                    <thead>
                        <tr>
                            <th>æ­Œæ›²åç§°</th>
                            <th>ä½œå“åç§°</th>
                            <th>å°è±¡ç¨‹åº¦</th>
                            <th>å‘è¡Œæ—¶é—´</th>
                            <th>æ­Œæ‰‹</th>
                            <th>ç±»å‹</th>
                            <th>Bç«™é“¾æ¥</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
        </div>

        <!-- ç”»å»Šè§†å›¾ -->
        <div id="galleryView" class="view-content">
            <div class="gallery-grid" id="galleryGrid"></div>
        </div>
        <!-- åé¦ˆè¯„è®ºåŒº -->
        <div class="feedback-section">
            <div class="feedback-header">
                <h2>ğŸ’­ æ„è§åé¦ˆä¸å»ºè®®</h2>
                <p>æ¬¢è¿åˆ†äº«ä½ çš„æƒ³æ³•ã€å»ºè®®æˆ–å›å¿†ï¼</p>
            </div>
            <div id="feedback-comments"></div>
        </div>

        <footer>
            <p>å…± <span id="totalCount">0</span> é¦–æ­Œæ›²</p>
        </footer>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
    
    <!-- Giscusè¯„è®ºç³»ç»Ÿ -->
    <script>
        // ä¸»é¡µé¢åé¦ˆè¯„è®º
        function loadFeedbackComments() {
            const script = document.createElement('script');
            script.src = 'https://giscus.app/client.js';
            script.setAttribute('data-repo', 'xkq1qkx/childhood_songs_for_2000s'); // ğŸ‘ˆ æ›¿æ¢è¿™é‡Œ
            script.setAttribute('data-repo-id', 'R_kgDOQ6oPAA'); // ğŸ‘ˆ æ›¿æ¢è¿™é‡Œ
            script.setAttribute('data-category', 'General'); // æˆ–ä½ é€‰æ‹©çš„åˆ†ç±»
            script.setAttribute('data-category-id', 'DIC_kwDOQ6oPAM4C1AdC'); // ğŸ‘ˆ æ›¿æ¢è¿™é‡Œ
            script.setAttribute('data-mapping', 'pathname');
            script.setAttribute('data-strict', '0');
            script.setAttribute('data-reactions-enabled', '1');
            script.setAttribute('data-emit-metadata', '0');
            script.setAttribute('data-input-position', 'top');
            script.setAttribute('data-theme', 'transparent_dark');
            script.setAttribute('data-lang', 'zh-CN');
            script.setAttribute('data-loading', 'lazy');
            script.crossOrigin = 'anonymous';
            script.async = true;
            
            document.getElementById('feedback-comments').appendChild(script);
        }
        
        // é¡µé¢åŠ è½½æ—¶åŠ è½½ä¸»è¯„è®ºåŒº
        document.addEventListener('DOMContentLoaded', loadFeedbackComments);
    </script>
</body>
</html>